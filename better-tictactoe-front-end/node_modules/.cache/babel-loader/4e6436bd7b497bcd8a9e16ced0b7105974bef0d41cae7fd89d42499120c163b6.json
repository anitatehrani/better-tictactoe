{"ast":null,"code":"var _jsxFileName = \"D:\\\\better-tictactoe\\\\better-tictactoe-front-end\\\\src\\\\pages\\\\CheckName.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function CheckName() {\n  _s();\n  const [status, setStatus] = useState();\n  const [value, setValue] = useState('');\n  const [data, setData] = useState();\n  useEffect(() => {\n    if (status === 'SEND_DATA') {\n      setStatus('SENDING_DATA');\n      fetch('http://localhost:3001/info/validate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: value\n        })\n      }).then(rawResponse => {\n        if ([200, 201].includes(rawResponse.status)) {\n          return rawResponse.json();\n        } else {\n          throw new Error();\n        }\n      }).then(response => {\n        setStatus('DATA_SENDED');\n        setData(response);\n      }).catch(e => {\n        setStatus('ERROR_SENDING_DATA');\n      });\n    }\n  }, [status, value]);\n  if (status === 'ERROR_SENDING_DATA') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"ERRORE INVIO DATI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setStatus('INITIAL'),\n        children: \"RIPROVA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this);\n  }\n  if (status === 'SEND_DATA' || status === 'SENDING_DATA') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"INVIO IN CORSO\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setStatus('INITIAL'),\n        children: \"ANNULLA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n  if (status === 'DATA_SENDED') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [(data === null || data === void 0 ? void 0 : data.success) === true && /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"DATI INVIATI VALIDI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 40\n      }, this), (data === null || data === void 0 ? void 0 : data.success) === false && /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"DATI INVIATI NON VALIDI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setStatus('INITIAL'),\n        children: \"INVIA UN ALTRO VALORE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"INSERISCI IL NOME\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: value,\n      onChange: e => {\n        setValue(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setStatus('SEND_DATA'),\n      children: \"VALIDA\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n_s(CheckName, \"Rok3XQ/yGu4mbPOBgr+a/hmP5U4=\");\n_c = CheckName;\nvar _c;\n$RefreshReg$(_c, \"CheckName\");","map":{"version":3,"names":["useEffect","useState","CheckName","status","setStatus","value","setValue","data","setData","fetch","method","headers","body","JSON","stringify","name","then","rawResponse","includes","json","Error","response","catch","e","success","target"],"sources":["D:/better-tictactoe/better-tictactoe-front-end/src/pages/CheckName.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { BaseResponse } from '../interfaces';\r\n\r\nexport function CheckName() {\r\n    const [status, setStatus] = useState<'INITIAL' | 'SEND_DATA' | 'SENDING_DATA' | 'DATA_SENDED' | 'ERROR_SENDING_DATA'>();\r\n    const [value, setValue] = useState<string>('');\r\n    const [data , setData] = useState<BaseResponse>();\r\n\r\n    useEffect(() => {\r\n        if(status === 'SEND_DATA') {\r\n            setStatus('SENDING_DATA');\r\n            fetch('http://localhost:3001/info/validate', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    name: value,\r\n                })\r\n            })\r\n                .then((rawResponse) => {\r\n                    if([200, 201].includes(rawResponse.status)) {\r\n                        return rawResponse.json();\r\n                    } else {\r\n                        throw new Error();\r\n                    }\r\n                })\r\n                .then((response: BaseResponse) => {\r\n                    setStatus('DATA_SENDED');\r\n                    setData(response);\r\n                })\r\n                .catch(e => {\r\n                    setStatus('ERROR_SENDING_DATA');\r\n                })\r\n        }\r\n    }, [status, value]);\r\n\r\n    if (status === 'ERROR_SENDING_DATA') {\r\n        return (\r\n            <div>\r\n                <h1>ERRORE INVIO DATI</h1>\r\n                <button onClick={() => setStatus('INITIAL')}>RIPROVA</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if(status === 'SEND_DATA' || status === 'SENDING_DATA') {\r\n        return (\r\n            <div>\r\n                <h1>INVIO IN CORSO</h1>\r\n                <button onClick={() => setStatus('INITIAL')}>ANNULLA</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if(status === 'DATA_SENDED') {\r\n        return (<div>\r\n            {data?.success === true && <h1>DATI INVIATI VALIDI</h1>}\r\n            {data?.success === false && <h1>DATI INVIATI NON VALIDI</h1>}\r\n            <button onClick={() => setStatus('INITIAL')}>INVIA UN ALTRO VALORE</button>\r\n        </div>)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>INSERISCI IL NOME</h1>\r\n            <input type=\"text\" value={value} onChange={(e) => {\r\n                setValue(e.target.value);\r\n            }}></input>\r\n            <button onClick={() => setStatus('SEND_DATA')}>VALIDA</button>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}